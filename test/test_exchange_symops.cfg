# CrPS4 primitive unitcell
# Some of the exchange interaction are commented out. They should be completed using the
# symmetry operations.

lattice : {
  size     = [4, 4, 4];
  periodic = [true, true, true];
};

unitcell : {

  parameter = 1.08510e-9;

  basis = (
    [ 0.50000, 0.50000,-0.0400],
    [-0.33435, 0.33435, 0.0000],
    [ 0.0000, 0.0000, 1.1246]);

  positions = (
    ("CrA", [0.752600, 0.247400, 0.0]),
    ("CrA", [0.247400, 0.752600, 0.0]),
    ("CrB", [0.752600, 0.247400, 0.5]),
    ("CrB", [0.247400, 0.752600, 0.5]),
    );
};

physics : {
  temperature = 10.0;
}


materials = (
  { name     = "CrA";
    moment   = 2.8;
    gyro     = 1.0;
    alpha    = 0.1;
    spin     = [0.0, 0.0, 1.0];
  },
  { name     = "CrB";
    moment   = 2.8;
    gyro     = 1.0;
    alpha    = 0.1;
    spin     = [0.0, 0.0,-1.0];
  }
);

hamiltonians = ( {
    module = "uniaxial";
    order = "K1";
    energy_units = "meV";
    anisotropies = (
      ( "CrA", [ 0.0, 0.0, 1.0 ], 0.0058 ),
      ( "CrB", [ 0.0, 0.0, 1.0 ], 0.0058 ) );
  },
{
    module = "exchange";
    energy_units = "meV";
    symops=true;
    coordinate_format = "fractional";
    interactions = (
  ( 1, 2, [ 0.494800, -0.494800,  0.000000],  2.96 ), # J1
  ( 1, 2, [-0.505200,  0.505200,  0.000000],  2.09 ), # J2
  ( 1, 2, [-0.505200, -0.494800,  0.000000],  0.51 ), # J3
  #( 1, 2, [ 0.494800,  0.505200,  0.000000],  0.51 ), # J3
  ( 1, 3, [-0.000000, -0.000000, -0.500000], -0.16 ), # Jc
  #( 1, 3, [ 0.000000,  0.000000,  0.500000], -0.16 ), # Jc
  ( 2, 1, [-0.494800,  0.494800,  0.000000],  2.96 ), # J1
  ( 2, 1, [ 0.505200, -0.505200,  0.000000],  2.09 ), # J2
  ( 2, 1, [-0.494800, -0.505200,  0.000000],  0.51 ), # J3
  #( 2, 1, [ 0.505200,  0.494800,  0.000000],  0.51 ), # J3
  ( 2, 4, [-0.000000, -0.000000, -0.500000], -0.16 ), # Jc
  #( 2, 4, [ 0.000000,  0.000000,  0.500000], -0.16 ), # Jc
  ( 3, 4, [ 0.494800, -0.494800,  0.000000],  2.96 ), # J1
  ( 3, 4, [-0.505200,  0.505200,  0.000000],  2.09 ), # J2
  ( 3, 4, [ 0.494800,  0.505200,  0.000000],  0.51 ), # J3
  #( 3, 4, [-0.505200, -0.494800,  0.000000],  0.51 ), # J3
  ( 3, 1, [-0.000000, -0.000000, -0.500000], -0.16 ), # Jc
  #( 3, 1, [ 0.000000,  0.000000,  0.500000], -0.16 ), # Jc
  ( 4, 3, [-0.494800,  0.494800,  0.000000],  2.96 ), # J1
  ( 4, 3, [ 0.505200, -0.505200,  0.000000],  2.09 ), # J2
  ( 4, 3, [ 0.505200,  0.494800,  0.000000],  0.51 ), # J3
  #( 4, 3, [-0.494800, -0.505200,  0.000000],  0.51 ), # J3
  ( 4, 2, [-0.000000, -0.000000, -0.500000], -0.16 ), # Jc
  #( 4, 2, [ 0.000000,  0.000000,  0.500000], -0.16 ), # Jc
     );
  }
);

monitors = (
  {
    module = "hdf5";
    output_steps = 1000;
  },
    {
    module = "magnetisation";
    output_steps = 100;
  }
);

solver = {
  module = "llg-heun-cpu";
  t_step = 1e-16;
  t_max = 1e-14;
};

